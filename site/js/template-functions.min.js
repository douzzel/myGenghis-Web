$(document).ready(function(){"use strict";var e=".header",i=".header-animated",a=".header-sticky",t=".header-background",o=".header-compact",n=".header-in",s=".header-out",r=".header-positioned",l="#bkg-retina-img, #retina-img, [data-2x]",d=".equalize",c=".fullscreen-sections-wrapper",h=".fullscreen-section",u=".scroll-link",f=1e3,p="easeInOutQuart",m=.6,g=".grid-container",v=".grid-item, .masonry-stamp",w=".grid-filter-menu, .grid-filter-dropdown",C="700ms",y="700ms",x=!1,b=[".video-container iframe",".video-container object"],S=["www.youtube.com","player.vimeo.com","http://www.dailymotion.com"],z=".mejs-container audio, .mejs-container video",k=".carousel-slider",T=".content-slider",H=".tm-slider-container.fullscreen",A=".full-width-slider",I=".logo-slider",O=".hero-slider",M=".testimonial-slider",P=".team-slider",L=".recent-slider",F=".slider-aux-nav",E=".slider-aux-prev",j=".slider-aux-next",V=".slider-aux-bullet",W="#tm-lightbox",q=".lightbox-link",D=".form-element",R=".form-response",N=".form-honeypot",Q=".form-submit",U=".signup-form",_=".required-field",B="Veuillez patienter.",Z="Envoi en cours…",J="You have been added to our list!",Y="Une erreur s'est produite, veuillez réessayer.",G="Veuillez remplir les champs obligatoires.",X="Veuillez saisir un email valide.",K=".contact-form",ee=".required-field",ie="Veuillez patienter.",ae="Envoi en cours…",te="Merci, votre email a été reçu !",oe="Une erreur s'est produite, veuillez réessayer.",ne="Veuillez remplir les champs obligatoires.",se="Veuillez saisir un email valide.",re=".map-container",le=".map-pan-link-container",de=".map-pan-link",ce=["images/assets/map-marker.png","images/assets/map-marker-2.png"],he=[[40.723301,-74.002988]],ue=["Downtown New York Office<br>44 St. West 32"],fe=45,pe=53,me=12,ge=!1,$e=!1,ve=!1,we=!0,Ce=!0,ye=!1,xe=!0,be=".content",Se=".footer-fixed",ze=".footer",ke=!0,Te="body",He=".fade-location, .logo a, .footer-logo a, .navigation a, .side-navigation a, .overlay-navigation a, .grid .overlay-link, .post-media .overlay-link, .post-title a, .post-read-more a, .pagination-previous, .pagination-next, .breadcrumb a, a.read-more",Ae=".no-page-fade, .no-page-fade a, .mail-link, .lightbox-link, .contains-sub-menu, .blog .pagination-previous, .blog .pagination-next, .disabled, .scroll-link, .navigation-show a, a.navigation-show",Ie="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",Oe={init:function(){$(Te).removeClass("no-js"),Oe.siteHeader(),Oe.retinize(),Oe.equalize(768),Oe.parallax(".parallax",!0,!1,!0),Oe.fullScreenSection(),Oe.masonry(),Oe.logoSlider(),Oe.heroSlider(),Oe.testimonialSlider(),Oe.teamSlider(),Oe.recentSlider(),Oe.carouselSlider(),Oe.contentSlider(),Oe.fullScreenSlider(),Oe.fullWidthSlider(),Oe.sliderAuxNav(),Oe.lightbox(),Oe.counter(".stat",".stat-counter",!1),Oe.horizon(".horizon",".parallax .horizon","easeInOutQuint",!1,1),Oe.freeze(".freeze"),Oe.videos(),Oe.mediaElement(),Oe.signupForm(),Oe.contactForm(),Oe.enablePlaceHolder();try{document.getElementsByClassName("map-canvas")&&google.maps.event.addDomListener(window,"load",Oe.googleMap)}catch(e){}Oe.fixedFooter(),Oe.pageFade(),Oe.scrollToSection(),$("body").hasClass("preload-page")&&Oe.preloadPage()},retinize:function(){$(l).retinizeImages()},equalize:function(e){imagesLoaded($(d),function(){$(d).equalizeHeights({clearUnder:e})})},parallax:function(e,i,a,t){$(e).snowBridge({scaleContainer:i,scaleUnder:960,scaleMinHeight:400,fullscreen:a,fadeInOut:t,fadeThreshold:.5,retinaSupport:!1,parallaxFactor:.6,onLoaded:function(){Oe.horizon(".horizon","","easeInOutQuint",!1,1)}})},horizon:function(e,i,a,t,o){if($("body").hasClass("preload-page"))return!1;$(e).not(i).horizon({easing:a,recurring:t,threshold:o})},freeze:function(e){$(window).one("load",function(){$(e).freeze({breakpoint:960})})},counter:function(e,i,a){$(i).counter({autoStart:!1}),$(e).each(function(){var e=$(this);e.horizon({recurring:a,inView:function(){if(e.find(i).data("counting"))return!1;e.find(i).each(function(){e.find(i).data("counting",!0);var a=$(this).data("counter");a.startCounter()})},outOfView:function(){if(!a||!e.find(i).data("counting"))return!1;e.find(i).each(function(){e.find(i).data("counting",!1);var a=$(this).data("counter");a.clearCounter()})}})})},carouselSlider:function(){$(k).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:3,lazyLoad:!1,navArrows:!0,navPagination:!0,navShowOnHover:!0,retinaSupport:!1})},contentSlider:function(){$(T).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,scaleMinHeight:"auto",lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,retinaSupport:!1})},fullScreenSlider:function(){$(H).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,fullscreen:!0,captionScaling:!1,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1})},fullWidthSlider:function(){$(A).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!1,forceFit:!1,fullwidth:!0,scaleUnder:960,scaleMinHeight:400,captionScaling:!0,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,respectRatio:!1,retinaSupport:!1})},logoSlider:function(){$(I).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:700,autoAdvance:!0,carousel:!0,carouselVisible:5,adaptiveHeight:!0,lazyLoad:!1,navArrows:!0,navPagination:!0,showProgressBar:!1,navShowOnHover:!0,retinaSupport:!1})},heroSlider:function(){$(O).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,scaleMinHeight:"auto",carousel:!1,carouselVisible:1,adaptiveHeight:!0,lazyLoad:!1,navArrows:!0,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},testimonialSlider:function(){$(M).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,scaleMinHeight:"auto",carousel:!0,carouselVisible:1,adaptiveHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},teamSlider:function(){$(P).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,carousel:!0,carouselVisible:3,adaptiveHeight:!0,lazyLoad:!1,navArrows:!1,navPagination:!0,navShowOnHover:!1,retinaSupport:!1})},recentSlider:function(){$(L).avalancheSlider({animation:"slide",easing:"easeInOutQuart",speed:900,autoAdvance:!1,carousel:!0,carouselVisible:3,adaptiveHeight:!0,lazyLoad:!0,navArrows:!0,navPagination:!0,navShowOnHover:!0,retinaSupport:!1})},sliderAuxNav:function(){$(F).each(function(){var e="#"+$(this).data("target-slider"),i=$(e).data("avalancheSlider");$(this).is(E)?$(this).on("click",function(e){e.preventDefault(),i.prevSlide()}):$(this).is(j)&&$(this).on("click",function(e){e.preventDefault(),i.nextSlide()})}),$(V).each(function(){var e="#"+$(this).data("target-slider"),i=$(e).data("avalancheSlider");$(this).on("click",function(e){e.preventDefault();var a=$(this).data("slide");i.slideTo(a),$(this).siblings().removeClass("active"),$(this).addClass("active")})})},lightbox:function(){$(q).summitLightbox({lightboxAnimation:"slideInTop",contentAnimation:"slide",slideAmount:100,easing:"swing",speed:350,onLoaded:function(){var e=$(q).data("summitLightbox"),i=$(W).find(".tml-aux-exit");if(0!==i.length&&i.on("click",function(i){i.preventDefault(),$(this).css({transition:"none"}),e.destroyLightbox()}),$(".tm-lightbox").find(".wpcf7").length){var a=null;$(".wpcf7 > form").each(function(){var e=$(this);wpcf7.initForm(e),wpcf7.cached&&wpcf7.refill(e)}),$(".tm-lightbox").hasClass("destroy-on-success")&&document.addEventListener("wpcf7mailsent",function(i){clearTimeout(a),a=setTimeout(function(){e.destroyLightbox()},1e3)},!1)}}})},videos:function(){fluidvids.init({selector:b,players:S})},mediaElement:function(){$(z).each(function(){var e=!1;$(this).is("audio")&&(e=!0),$(this).mediaelementplayer({features:e?["playpause","progress","volume","fullscreen"]:["playpause","progress","current","duration","tracks","volume","fullscreen"],videoWidth:"100%",videoHeight:"100%",audioWidth:"100%",videoVolume:"vertical",audioVolume:"horizontal"})})},siteHeader:function(){function l(){d=$(window).width(),c=$(window).height(),h=Math.ceil(y.outerHeight()),u="window-height"===y.data("bkg-threshold")?c-h:y.data("bkg-threshold"),f="window-height"===y.data("compact-threshold")?c-h:y.data("compact-threshold"),p="window-height"===y.data("sticky-threshold")?c-h:y.data("sticky-threshold"),m=y.data("helper-in-threshold"),g=y.data("helper-out-threshold")}var d,c,h,u,f,p,m,g,v,w=0,C=960,y=$(e),x=!!y.is("[data-sticky-threshold]");i=i.split(".").join(""),a=a.split(".").join(""),t=t.split(".").join(""),o=o.split(".").join(""),n=n.split(".").join(""),s=s.split(".").join(""),r=r.split(".").join("");var b=function(i){if($("body").hasClass("mobile")||d<C)return!1;p&&$(i).scrollTop()>=p||0===p?($(e).addClass(a),m&&g&&$(e).addClass(r)):($(e).removeClass(a),m&&g&&$(e).removeClass(r)),u&&$(i).scrollTop()>=u?$(e).addClass(t):$(e).removeClass(t),f&&$(i).scrollTop()>=f?$(e).addClass(o):$(e).removeClass(o),v=$(i).scrollTop(),v>w?(m&&$(i).scrollTop()>=m&&$(e).addClass(n),$(e).removeClass(s)):v<w&&(m&&$(i).scrollTop()<=m&&($(e).removeClass(n),$(e).removeClass(s)),m&&$(i).scrollTop()>=m&&$(i).scrollTop()<=g&&($(e).addClass(s),$(s).on(Ie,function(a){if(a.stopPropagation(),a.target!==$(i)[0])return!1;$(e).removeClass(s)}))),w=v},S=function(i){if(l(),$("body").hasClass("mobile"))return!1;d>C&&x&&y.css({height:y.outerHeight()+"px"}),d>C&&$(window).scrollTop()>=p?($(e).addClass(a),m&&g&&$(e).addClass(r)):($(e).removeClass(a),m&&g&&$(e).removeClass(r)),d>C&&$(window).scrollTop()<u?$(e).removeClass(t):d>C&&$(window).scrollTop()>u&&$(e).addClass(t),d>C&&$(window).scrollTop()<f?$(e).removeClass(o):d>C&&$(window).scrollTop()>f&&$(e).addClass(o),d<C&&$(e).removeClass(o)};$(window).on("scroll",function(){b($(this))}),$(window).on("resize",function(){S()}),$("body").hasClass("mobile")||$(window).one("load",function(){l(),b($(this)),d>C&&x&&y.css({height:h+"px"}),$(e).addClass(i)})},fullScreenSection:function(){var e=function(){var e;if($(c).find(h).length>1){if($("body").hasClass("mobile"))return!1;var i,a=!$(c).hasClass("no-navigation");if(a){i=$("<div>").addClass("fs-pagination").appendTo($(c));for(var t=1;t<$(c).children().length;t++)e=$(c).children().eq(t-1).attr("id"),$(c).find("#"+e).data("index",t),$(c).find(i).append('<a href="#'+e+'" id="fs-pagination-'+t+'" data-index="'+t+'" class="fs-bullet-nav" />');$(window).on("resize",function(){o()});var o=function(){$(i).css({marginTop:-$(i).outerHeight()/2+"px",opacity:1})};o();var n=$(c).find(".fs-bullet-nav");n.each(function(){$(this).on("click",function(i){if(i.preventDefault(),$(this).hasClass("active"))return!1;parseFloat($(this).data("index"));e=$(this).attr("href"),Oe.scrollPage(e,0)})})}$(window).on("scroll",function(){$(c).find(h).each(function(){s($(this))})});var s=function(e){e.data("fs-scrolling")||(window.requestAnimationFrame(function(){r(e)}),e.data("fs-scrolling",!0))},r=function(e){if(Oe.isElementVisible(e,m)&&a){$(i).css({opacity:1});var t=$(c).find(e).data("index");i.find(".active").removeClass("active"),i.find("#fs-pagination-"+t).addClass("active"),e.hasClass("nav-dark")?i.addClass("nav-dark"):i.removeClass("nav-dark")}a&&Oe.isElementVisible($(c),m)?$(i).css({opacity:1,visibility:"visible"}):$(i).css({opacity:0,visibility:"hidden"}),e.data("fs-scrolling",!1)};$(c).find(h).each(function(){s($(this))})}},i=function(){$(h).each(function(){var e=$(this),i=e.find(".background-image, .background-slider-wrapper");if($(this).is("[data-width],[data-height]"))if($("body").hasClass("mobile")||a<=768){e.addClass("fs-image-scale content-below-on-mobile");var o=e.data("width"),n=e.data("height"),s=e.data("min-height"),r=e.width(),l=o>=n?o/n:n/o,d=o>=n?r/l:r*l;d=s&&d<=s?s:d,e.css({height:"auto"}),i.css({height:d+"px",minHeight:d+"px"})}else e.removeClass("fs-image-scale"),e.css({height:""}),i.css({height:"",minHeight:""});else $("body").hasClass("mobile")||a<=768?i.css({height:t+"px"}):(e.removeClass("fs-image-scale"),e.css({height:""}),i.css({height:"",minHeight:""}))})},a=$(window).width(),t=$(window).height();$(window).on("resize",function(){a=$(window).width(),t=$(this).height(),i()}).resize(),e()},scrollToSection:function(){var i,a=[],t=$(e);$(u).each(function(){if(a.push($(this).attr("href")),t.data("compact-threshold")){var e=t.clone().addClass("header-compact").css({display:"none"});e.appendTo("body"),i=$(e).outerHeight(),e.remove()}else i=t.outerHeight();$(this).on("click",function(e){e.preventDefault();var a=$(this).attr("href"),o=$(this).data("offset")?$(this).data("offset"):$(window).width()<960?-t.outerHeight():-i;Oe.scrollPage(a,o)})}),$(window).one("load",function(){$.each(a,function(e,i){o($(i))})}),$(window).on("scroll",function(){$.each(a,function(e,i){o($(i))})});var o=function(e){e.data("section-scrolling")||(window.requestAnimationFrame(function(){n(e)}),e.data("section-scrolling",!0))},n=function(e){var i="header, .header-sub, .side-navigation-wrapper, .overlay-navigation-wrapper";if(Oe.isElementVisible(e,m)){var a=e.attr("id"),t=$('a[href="#'+a+'"]').closest(i);t&&($(i).find(u).parent().removeClass("current"),$(i).find('a[href="#'+a+'"]').parent().addClass("current"))}else 0===$(".in-view").length&&$(i).find(u).parent().removeClass("current");e.data("section-scrolling",!1)}},isElementVisible:function(e,i){if(i=e.is("[data-visible-threshold]")?e.data("visible-threshold"):m,void 0===e.offset())return console.log("template-functions.js@isElementVisible: "+e.selector+" cannot be found in your html page."),!1;var a=$(window).height(),t=$(window).scrollTop(),o=t+$(window).height(),n=e.offset().top,s=(e.height(),n+e.outerHeight()-a*i),r=n+a*i;return e.is($(c))||(o>=r&&t<=s?e.addClass("in-view"):e.removeClass("in-view")),o>=r&&t<=s},scrollPage:function(e,i){$("html, body").animate({scrollTop:$(e).offset().top+i},f,p)},masonry:function(){$(g).each(function(){var e,i,a=$(this),t=$(this).find(".grid"),o=$(a).data("default-filter")?$(a).data("default-filter"):"*";if(a.hasClass("fade-in-progressively")&&t.children().addClass("no-transition"),"*"!==o&&($(w).find(".active").removeClass("active"),$(w).find('[data-filter="'+o+'"]').addClass("active")),a.data("layout-mode")){e=a.data("layout-mode")?a.data("layout-mode"):"masonry",a.is("[data-layout-mode]")&&a.addClass("masonry"),a.is("[data-set-dimensions]")&&a.addClass("masonry-set-dimensions"),x=!!a.is("[data-animate-resize]"),y=a.is("[data-animate-resize-duration]")?a.data("animate-resize-duration")+"ms":y,a.is(".masonry-set-dimensions, .masonry-set-dimensions-2")?(a.is(".full-width.no-margins")&&Oe.masonryWrapperWidth(a,t),i=Oe.masonryColWidth(a,t),Oe.masonryThumbSizes(a,t,Oe.masonryColWidth(a,t))):i=".grid-sizer";var n=parseFloat(a.css("padding-top")),s=$('<div class="tm-loader" style="margin-top: 0; top:'+n+'px"><svg id="circle" viewBox="25 25 50 50"><circle class="stroke" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>');s.appendTo(a),imagesLoaded(t,function(){t.isotope({filter:o,itemSelector:".grid-item",isResizeBound:!!x,transitionDuration:C,layoutMode:e,stamp:".masonry-stamp",masonry:{columnWidth:i}}),a.find(s).remove(),t.css({visibility:"visible",minHeight:"initial"}),$("body").hasClass("transition-support")&&t.children().removeClass("no-transition");var n=t.children().length-1;t.children().each(function(e){if(a.is("[data-as-bkg-image]")&&a.is("[data-set-dimensions]")&&!$(this).find(".background-image").length){var i=$(this).find("img"),t=$(this).find("img").attr("style"),o=i.attr("srcset")&&!$("body").hasClass("ie-browser")?i.prop("currentSrc"):i.attr("src");$('<span class="background-image background-cover" style="'+t+'" />').css({"background-image":"url("+o+")"}).insertAfter(i),i.remove()}$(this).find("img").length||$(this).find(".background-image").length||$(this).addClass("no-image"),$("body").hasClass("transition-support")?$(this).delay(100*e).queue(function(){$(this).addClass("animate-in"),$(this).dequeue()}):$(this).delay(100*e).animate({opacity:1},500,"easeInOutQuart",function(){e===n&&a.removeClass("fade-in-progressively")})}),$(window).on("resize",function(){a.removeClass("fade-in-progressively"),a.is(".full-width.no-margins")&&Oe.masonryWrapperWidth(a,t),Oe.masonryThumbSizes(a,t,Oe.masonryColWidth(a,t)),x?t.isotope({transitionDuration:y,masonry:{columnWidth:".grid-sizer"!==i?Oe.masonryColWidth(a,t):".grid-sizer"}}):(t.removeClass("filtering"),t.isotope({transitionDuration:0,masonry:{columnWidth:".grid-sizer"!==i?Oe.masonryColWidth(a,t):".grid-sizer"}}).isotope("layout").isotope({transitionDuration:y}))})})}else t.css({visibility:"visible"})}),$(w).each(function(){var e,i;$(this).find("ul a").on("click",function(a){a.preventDefault(),$(this).closest(w).find(".active").removeClass("active"),$(this).addClass("active"),e=$(this).closest(w).data("target-grid")?$(this).closest(w).data("target-grid"):g,$(e).removeClass("fade-in-progressively"),C=$(e).is("[data-animate-filter-duration]")?$(e).data("animate-filter-duration")+"ms":C,e=$(e).find(".grid"),e.isotope({transitionDuration:C}),i=$(this).attr("data-filter"),$(e).addClass("filtering").isotope({filter:i})}),$(this).find("a").each(function(){if(e=$(this).closest(w).data("target-grid")?$(this).closest(w).data("target-grid"):g,i="*"!=$(this).data("filter")?$(this).data("filter"):".grid-item",$(this).find(".project-count").length>0){var a=$(e).find(i).length;$(this).find(".project-count").html(a)}})})},masonryWrapperWidth:function(e,i){var a=Math.ceil(1.001*e.width());i.css({maxWidth:a+"px",width:a+"px"})},masonryColWidth:function(e,i){var a,t=$(window).width(),o=Math.ceil(e.width()),n=e.is(".full-width.no-margins")?Math.ceil(1.001*o):i.width();return e.is(".full-width.small-margins, .full-width.no-margins")?(i.hasClass("content-grid-2")&&(a=t>=480?n/2:n/1),i.hasClass("content-grid-3")&&(a=t>768?n/3:t<=768&&t>480?n/2:n/1),i.hasClass("content-grid-4")&&(a=t>1140?n/4:t<=1140&&t>768?n/3:t<=768&&t>480?n/2:n/1),i.hasClass("content-grid-5")&&(a=t>1300?n/5:t<=1300&&t>1140?n/4:t<=1140&&t>=768?n/3:t<=768&&t>480?n/2:n/1),i.hasClass("content-grid-6")&&(a=t>1300?n/6:t<=1300&&t>1140?n/4:t<=1140&&t>=768?n/3:t<=768&&t>480?n/2:n/1)):(i.hasClass("content-grid-2")&&(a=t>=600?n/2:n/1),i.hasClass("content-grid-3")&&(a=t>960?n/3:t<=960&&t>600?n/2:n/1),i.hasClass("content-grid-4")&&(a=t>1140?n/4:t<=1140&&t>960?n/3:t<=960&&t>600?n/2:n/1),i.hasClass("content-grid-5")&&(a=t>1300?n/5:t<=1300&&t>1140?n/4:t<=1140&&t>960?n/3:t<=960&&t>600?n/2:n/1),i.hasClass("content-grid-6")&&(a=t>1300?n/6:t<=1300&&t>1140?n/4:t<=1140&&t>960?n/3:t<=960&&t>600?n/2:n/1)),a=Math.floor(a),a},masonryThumbSizes:function(e,i,a){var t,o=$(window).width(),n=2,s=$(".masonry-set-dimensions").hasClass("no-margins")?0:parseFloat(i.find(".grid-item").css("padding-left")),r=e.is(".masonry-set-dimensions")?e.is("[data-grid-ratio]")?parseFloat(e.data("grid-ratio")):1.5:1;if(t=Math.floor((a-s)/r+s),e.is(".masonry-set-dimensions")){var l=e.is(".full-width.small-margins, .full-width.no-margins")?480:600;i.find(v).each(function(){$(this).is(".large, .masonry-stamp.large")?$(this).is(".portrait, .masonry-stamp.portrait")?$(this).css({width:o>l?Math.floor(a*n)+"px":a+"px",height:o>l?Math.floor(t*(2*n))+"px":2*t+"px"}):$(this).css({width:o>l?Math.floor(a*n)+"px":a+"px",height:o>l?Math.floor(t*n)+"px":t+"px"}):$(this).is(".wide, .masonry-stamp.wide")?$(this).css({width:o>l?Math.floor(a*n)+"px":a+"px",height:o>l?t+"px":t/2+"px"}):$(this).is(".portrait, .masonry-stamp.portrait")?$(this).css({width:a+"px",height:Math.floor(t*n)+"px"}):$(this).css({width:a+"px",height:t+"px"})})}e.is(".masonry-set-dimensions-2")&&(o>600?i.find(v).each(function(){$(this).hasClass("horizontal")?$(this).hasClass("two-third")?$(this).children(".item-description").length?$(this).css({width:Math.floor(a*(n+1))+"px",height:Math.floor(t)+"px"}):$(this).addClass("no-description").css({width:Math.floor(a*n)+"px",height:Math.floor(t)+"px"}):$(this).css({width:Math.floor(a*n)+"px",height:Math.floor(t)+"px"}):$(this).hasClass("vertical")?$(this).hasClass("two-third")&&$(this).children(".item-description").length?$(this).css({width:a+"px",height:Math.floor(a*(n+1))+"px"}):$(this).css({width:a+"px",height:Math.floor(t*n)+"px"}):$(this).css({width:a+"px",height:Math.floor(t)+"px"})}):i.find(v).each(function(){$(this).find("iframe, video, .tm-slider-container").length?$(this).css({width:a+"px",height:t+"px"}):$(this).css({width:"",height:""})}))},signupForm:function(){$(U).submit(function(e){e.preventDefault();var i=$(this),a=i.parent().find(R),t=i.find(D),o=i.find('input[type="email"]'),n=i.find(N),s=i.find(Q),r=i.attr("action"),l=i.attr("method"),d=i.serialize(),c=!1,h=!1,u=!1;if(_=_.split(".").join(""),t.removeClass(_),t.each(function(){$(this).attr("required")&&($(this).val()||(c=!0,$(this).addClass(_),a.hide().text(G).fadeIn(200)))}),c||(h=!0),o.val()&&!Oe.isValidEmail(o.val())?(a.hide().text(X).fadeIn(200),o.addClass(_)):u=!0,""!==n.val())return!1;if(c&&o.val()&&!Oe.isValidEmail(o.val())&&a.hide().text(G+" "+X).fadeIn(200),h&&u){var f=$(s).val();$(s).css({width:$(s).outerWidth()+"px"}).val(Z).attr("disabled",!0),a.hide().text(B).fadeIn(200),$.ajax({url:r,type:l,data:d,dataType:"json"}).done(function(e){try{!0===e.response?(a.text(J),a.delay(1500).fadeOut(200),t.val("")):a.hide().text(e.json.error_message).fadeIn(200)}catch(e){console.log("error in parsing returned ajax data: "+e),a.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(e,i,t){console.log("Error occured in processing your request:"),console.log(e),console.log("Text status"),console.log(i),console.log("Error thrown"),console.log(t),console.log("Server response"),console.log(e.status),console.log("Response Text may contain error output from PHP"),console.log(e.responseText),a.hide().text(Y+i+" ("+t+")").fadeIn(200)}).always(function(){$(s).css({width:""}).val(f).attr("disabled",!1)})}})},contactForm:function(){$(K).submit(function(e){e.preventDefault();var i=$(this),a=i.parent().find(R),t=i.find(D),o=i.find('input[type="email"]'),n=i.find(N),s=i.find(Q),r=i.attr("action"),l=i.attr("method"),d=[],c=encodeURIComponent(i.find("textarea[name=message]").val()+"\n"),h=[];i.find("input:not([type=submit]),select,textarea").each(function(e,i){var a=$(i),t=a.attr("name");if(a.hasClass("form-aux")&&t){var o=a.data("label")||t,n=a.find("option:selected").text(),s=a.val();!s&&a.is("select")?s=o==n?"Not selected":a.find("option:selected").text():"checkbox"!=a.attr("type")||a.prop("checked")||(s="Not checked"),h.push({name:t,label:encodeURIComponent(o),value:encodeURIComponent(s)})}else t&&"message"!=t&&d.push(t+"="+encodeURIComponent(a.val()))});for(var u=0;u<h.length;u++){var f=encodeURIComponent("\n")+h[u].label+"%3A%20"+h[u].value;c+=f}d.push("message="+c),d=d.join("&");var p=!1,m=!1,g=!1;if(ee=ee.split(".").join(""),t.removeClass(ee),t.each(function(){($(this).attr("required")||$(this).children().attr("required"))&&($(this).is(":checkbox")?$(this).is(":checkbox:checked")||(p=!0,$(this).addClass(ee)):$(this).children().is("select")?$(this).children().val()==$(this).children().find("option:selected").text()&&(p=!0,$(this).addClass(ee)):$(this).val()||(p=!0,$(this).addClass(ee)),p&&a.hide().text(ne).fadeIn(200))}),p||(m=!0),o.val()&&!Oe.isValidEmail(o.val())?(a.hide().text(se).fadeIn(200),o.addClass(ee)):g=!0,""!==n.val())return!1;if(p&&o.val()&&!Oe.isValidEmail(o.val())&&a.hide().text(ne+" "+se).fadeIn(200),m&&g){var v=$(s).val();$(s).css({width:$(s).outerWidth()+"px"}).val(ae).attr("disabled",!0),a.hide().text(ie).fadeIn(200),$.ajax({url:r,type:l,data:d,dataType:"json"}).done(function(e){try{if(!0===e.response)a.text(te),a.delay(1500).fadeOut(200),t.val("");else{var i=void 0===e.json.error_message?"There is a possibility that your message was not sent. Please check up the server or script configuration.":e.json.error_message;a.hide().text(oe+" "+i).fadeIn(200)}}catch(i){console.log("error in parsing returned ajax data: "+i),console.log(e),a.hide().text("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(e,i,t){console.log("Error occured in processing your request:"),console.log(e),console.log("Text status"),console.log(i),console.log("Error thrown"),console.log(t),console.log("Server response"),console.log(e.status),console.log("Response Text may contain error output from PHP"),console.log(qXHR.responseText),a.hide().text(oe+" (Please see the console for error details.)").fadeIn(200)}).always(function(){$(s).css({width:""}).val(v).attr("disabled",!1)})}})},isValidEmail:function(e){var i=new RegExp(/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i);return i.test(e)},enablePlaceHolder:function(){$("input, textarea").placeholder()},googleMap:function(){$(re).each(function(){var e=$(this).children().attr("id");ce=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):ce,he=$(this).data("coordinates")?$(this).data("coordinates"):he,ue=$(this).data("info")?JSON.parse("["+$(this).data("info")+"]"):ue,me=$(this).data("zoom-level")?parseFloat($(this).data("zoom-level")):me,xe=!(!$(this).data("style")||"greyscale"!==$(this).data("style"));var i,a,t=xe?-100:0,o=!$("body").hasClass("mobile"),n={draggable:o,zoom:me,center:new google.maps.LatLng(he[0][0],he[0][1]),mapTypeControl:$e,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT},panControl:ve,panControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},zoomControl:we,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP},scrollwheel:ge,scaleControl:Ce,streetViewControl:ye,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},styles:[{stylers:[{saturation:t}]}]},s=new google.maps.Map(document.getElementById(e),n);$(this).children().data("mapref",s);for(var r=0,l=0;l<he.length;l++)i=new google.maps.Marker({position:new google.maps.LatLng(he[l][0],he[l][1]),map:s,icon:new google.maps.MarkerImage(ce[r],null,null,null,new google.maps.Size(fe,pe))}),a=new google.maps.InfoWindow({content:ue[l]}),google.maps.event.addListener(i,"click",function(e,i){return function(){a.setContent(ue[i]),a.open(s,e)}}(i,l)),r++;google.maps.event.addDomListener(window,"resize",function(){var e=s.getCenter();google.maps.event.trigger(s,"resize"),s.setCenter(e)})}),$(de).each(function(){$(this).data("marker",!1),$(this).on("click",function(e){e.preventDefault();var i,a,t=$("#"+$(this).data("target-map")).data("mapref"),o=$(this).data("coordinates"),n=new google.maps.LatLng(o[0][0],o[0][1]),s=$(this).data("icon")?JSON.parse("["+$(this).data("icon")+"]"):null,r=$(this).data("icon")?JSON.parse("["+$(this).data("info")+"]"):null;t.panTo(n),$(this).data("marker")||($(this).data("icon")&&(i=new google.maps.Marker({position:new google.maps.LatLng(o[0][0],o[0][1]),map:t,icon:new google.maps.MarkerImage(s[0],null,null,null,new google.maps.Size(fe,pe))})),$(this).data("info")&&(a=new google.maps.InfoWindow({content:r[0]}),google.maps.event.addListener(i,"click",function(e,i){return function(){a.setContent(r[0]),a.open(t,e)}}(i))),$(this).data("marker",!0)),$(this).closest(le).hasClass(le.split(".").join(""))&&($(this).closest(le).find(".active").removeClass("active"),$(this).addClass("active"))})})},fixedFooter:function(){function e(){$(ze).hasClass(t)&&$(window).width()>960&&$(be).css({marginBottom:a+"px"}),$(ze).is("[data-animate-reveal]")&&(i=$(be).outerHeight()+o-$(window).scrollTop(),i<=$(window).height()&&$(window).width()>960?$(be).addClass("animate-content"):$(be).removeClass("animate-content"))}if($("body").hasClass("mobile"))return!1;var i,a=$(Se).outerHeight(),t=Se.split(".").join(""),o=$(be).offset().top;$(ze).hasClass(t)&&$(be).addClass("reveal-footer"),$(window).on("scroll",function(){e()}),$(window).on("resize",function(){a=$(Se).outerHeight(),e()}),e()},pageFade:function(){if(!ke)return!1;$(He).each(function(){"_blank"===$(this).attr("target")&&$(this).addClass("no-page-fade"),$(this).not(Ae).on("click",function(e){e.preventDefault();var i=this.href;$("body").hasClass("transition-support")?$(Te).addClass("page-fade-out").on(Ie,function(e){if(e.stopPropagation(),e.target!==$(this)[0])return!1;Oe.goToNewPage(i)}):Oe.goToNewPage(i)})})},goToNewPage:function(e){window.location=e},preloadPage:function(e){$("body").preloadPage({onComplete:function(){Oe.horizon(".horizon",".parallax .horizon","easeInOutQuint",!1,1)}})}};(function(){for(var e=0,i=["ms","moz","webkit","o"],a=0;a<i.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[i[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[a]+"CancelAnimationFrame"]||window[i[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,a){var t=(new Date).getTime(),o=Math.max(0,16-(t-e)),n=window.setTimeout(function(){i(t+o)},o);return e=t+o,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})(),Oe.init()});